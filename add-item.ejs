<%- include('partials/header', {title: 'Pantry+ Add Item', user: user}) %>

<h1 style="font-size: 55px; margin-top: 50px; font-weight: bolder;">Add New Item</h1>

<h4 style="margin-top: 20px; font-weight:lighter;">Add an item to your inventory, input details below</h4>

<div class="d-flex justify-content-center" style="margin-top: 20px;">
    <div class="card" style="width: 50%;">
        <form action="/api/add-item-33968748?userId=<%=user.userId%>" method="POST">
            <div class="card-body" style="text-align: start; padding: 20px;">
                
                

                <h4>Ingredient Name & Date</h4>
                <div class="row g-5">
                    <div class="col-md-8">
                        <label for="itemName" class="form-label">Ingredient Name</label>
                        <input type="text" class="form-control" id="itemName" name="ingredientName" 
                               placeholder="e.g. Carrot" required value="<%=formData.ingredientName%>">
                    </div>

                    <div class="col-md-4"> 
                
                <label for="createdDate" class="form-label">
                    Created Date
                </label>
                <input type="text" class="form-control" id="createdDate" name="createdDate" placeholder="Enter date in YYYY-MM-DD format" required value="<%=formData.createdDate%>">
            </div>
                </div>

                <h4 class="mt-3">Ingredient Details</h4>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="type" class="form-label">Category</label>
                        <select name="category" id="type" class="form-select" required>
                            <option value="" <%= formData.category === '' ? 'selected' : '' %> disabled>Select category...</option>
                            <option value="Vegetables" <%= formData.category === 'Vegetables' ? 'selected' : '' %>>Vegetables</option>
                            <option value="Fruits" <%= formData.category === 'Fruits' ? 'selected' : '' %>>Fruits</option>
                            <option value="Meat" <%= formData.category === 'Meat' ? 'selected' : '' %>>Meat</option>
                            <option value="Dairy" <%= formData.category === 'Dairy' ? 'selected' : '' %>>Dairy</option>
                            <option value="Grains" <%= formData.category === 'Grains' ? 'selected' : '' %>>Grains</option>
                            <option value="Spices" <%= formData.category === 'Spices' ? 'selected' : '' %>>Spices</option>
                            <option value="Beverages" <%= formData.category === 'Beverages' ? 'selected' : '' %>>Beverages</option>
                            <option value="Frozen" <%= formData.category === 'Frozen' ? 'selected' : '' %>>Frozen</option>
                            <option value="Canned" <%= formData.category === 'Canned' ? 'selected' : '' %>>Canned</option>
                            <option value="Other" <%= formData.category === 'Other' ? 'selected' : '' %>>Other</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="unit" class="form-label">Unit</label>
                        <select name="unit" id="unit" class="form-select" required>
                            <option value="" <%= formData.unit === '' ? 'selected' : '' %> disabled>Select unit...</option>
                            <option value="pieces" <%= formData.unit === 'pieces' ? 'selected' : '' %>>pieces</option>
                            <option value="kg" <%= formData.unit === 'kg' ? 'selected' : '' %>>kilogram</option>
                            <option value="g" <%= formData.unit === 'g' ? 'selected' : '' %>>gram</option>
                            <option value="liters" <%= formData.unit === 'liters' ? 'selected' : '' %>>liters</option>
                            <option value="ml" <%= formData.unit === 'ml' ? 'selected' : '' %>>milliliters</option>
                            <option value="cups" <%= formData.unit === 'cups' ? 'selected' : '' %>>cups</option>
                            <option value="tbsp" <%= formData.unit === 'tbsp' ? 'selected' : '' %>>tablespoons</option>
                            <option value="tsp" <%= formData.unit === 'tsp' ? 'selected' : '' %>>teaspoons</option>
                            <option value="dozen" <%= formData.unit === 'dozen' ? 'selected' : '' %>>dozen</option>
                        </select>
                    </div>
                </div>

                <div class="row g-3 mt-2">
                    <div class="col-md-4">
                        <label for="quantity" class="form-label">Quantity (in specified units)</label>
                        <input type="text" class="form-control" id="quantity" name="quantity" required value="<%=formData.quantity%>">
                   
                    </div>
                    <div class="col-md-4">
                        <label for="location" class="form-label">Location</label>
                        <select name="location" id="location" class="form-select" required>
                            <option value="" <%= formData.location === '' ? 'selected' : '' %> disabled>Select location...</option>
                            <option value="Fridge" <%= formData.location === 'Fridge' ? 'selected' : '' %>>Fridge</option>
                            <option value="Freezer" <%= formData.location === 'Freezer' ? 'selected' : '' %>>Freezer</option>
                            <option value="Pantry" <%= formData.location === 'Pantry' ? 'selected' : '' %>>Pantry</option>
                            <option value="Counter" <%= formData.location === 'Counter' ? 'selected' : '' %>>Counter</option>
                            <option value="Cupboard" <%= formData.location === 'Cupboard' ? 'selected' : '' %>>Cupboard</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="cost" class="form-label">Cost (per unit)</label>
                        <input type="text" class="form-control" id="cost" name="cost" required value="<%=formData.cost%>">
                     
                    </div>
                </div>

                <div class="row g-3 mt-2">
                    <div class="col-md-6">
                        <label for="purchaseDate" class="form-label">Purchase Date</label>
                                        <input type="text" class="form-control" id="purchaseDate" name="purchaseDate" placeholder="Enter date in YYYY-MM-DD format" required value="<%=formData.purchaseDate%>">

                        
                    </div>
                    <div class="col-md-6">
                        <label for="expirationDate" class="form-label">Expiration Date</label>
                                        <input type="text" class="form-control" id="expirationDate" name="expirationDate" placeholder="Enter date in YYYY-MM-DD format" required value="<%=formData.expirationDate%>">

                        
                    </div><% if (errors && errors.length > 0) { %>
  <div style="color: red; margin-bottom: 1em;">
    <ul>
      <% errors.forEach(function(err) { %>
        <li><%= err %></li>
      <% }) %>
    </ul>
  </div>
<% } %>
                </div>

                <div class="container d-flex justify-content-end mt-3">
                    <div>
                        <a href="/api/all-items-33968748?userId=<%=user.userId%>" class="btn q-action-button" style="--border-color:darksalmon">View Inventory</a>
                        <button type="submit" class="btn my-button" style="font-size: 18px;">Add Item</button>
                    </div>
                </div>

                
            </div>
        </form>
    </div>
</div>

<%- include('partials/footer', {pageName: "Add Item"}) %>